{"version":3,"sources":["store/types.js","store/reducers.js","store/index.js","component/login/login.png","services/index.js","component/login/index.js","store/middleware.js","component/spinner/index.js","component/error-indicator/index.js","component/error-boundary/index.js","component/header/index.js","store/actionCreators.js","component/book-list-item/index.js","component/book-list/index.js","utils.js","component/book-info/index.js","component/book-cart/index.js","component/price-filter/index.js","component/title-filter/index.js","component/cart/index.js","component/app/index.js","index.js"],"names":["LOGIN","API_ERROR","LOGIN_FROM_LOCAL_STORAGE","LOAD_ALL_BOOKS","LOG_OUT","LOAD_BOOK_BY_ID","CLEAR_SELECTED_BOOK","ADD_BOOK_TO_CART","GET_FILTER_PRICE_VALUE","GET_FILTER_TITLE_VALUE","PLACE_ORDER","CLEAR_CART","initState","user","JSON","parse","localStorage","getItem","username","loading","error","books","bookDetails","booksInTheCart","filterPriceValue","filterTitleValue","addBookToCart","state","addedBook","updatedCart","find","book","id","map","count","Number","total","price","setItem","stringify","reducer","action","type","userInfo","err","priceFilterValue","titleFilterValue","removeItem","store","createStore","composeWithDevTools","applyMiddleware","thunk","glitch","_apiBase","login","a","axios","post","result","status","Error","data","response","getAllBooks","token","get","headers","Authorization","loadBook","postPurchase","Login","dispatch","useDispatch","useSelector","useState","usernameValue","setUsernameValue","userNameError","setUserNameError","inputClasses","setInputClasses","to","className","align","src","logo","alt","handleChangeUsername","e","name","target","value","trim","length","handleLogin","preventDefault","console","message","LoginForm","placeholder","onChange","href","onClick","Spinner","ErrorIndicator","ErrorBoundary","hasError","this","props","children","Component","Header","style","textDecoration","withRouter","history","title","author","cover","push","BookList","useEffect","allBooks","filter","filterBooksByPrice","titleSearchValue","toLowerCase","includes","searchBooksByTitle","content","BookInfo","itemId","CardContent","description","tags","join","BookCart","countValue","setCountValue","totalPrice","setTotalPrice","setAddedBook","toFixed","min","max","PriceFilter","TitleSearch","Cart","log","stringOfIds","reduce","acc","i","slice","data-bs-toggle","data-bs-target","booksFromCart","messageAfterPurchase","data-bs-backdrop","data-bs-keyboard","aria-labelledby","aria-hidden","data-bs-dismiss","CartTable","scope","App","path","render","exact","component","match","params","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.bcac5706.chunk.js","sourcesContent":["const LOGIN = 'LOGIN';\nconst API_ERROR = 'API_ERROR';\nconst LOGIN_FROM_LOCAL_STORAGE = 'LOGIN_FROM_LOCAL_STORAGE';\nconst LOAD_ALL_BOOKS = 'LOAD_ALL_BOOKS';\nconst LOG_OUT = 'LOG_OUT';\nconst LOAD_BOOK_BY_ID = 'LOAD_BOOK_BY_ID';\nconst CLEAR_SELECTED_BOOK = 'CLEAR_SELECTED_BOOK';\nconst ADD_BOOK_TO_CART = 'ADD_BOOK_TO_CART';\nconst GET_FILTER_PRICE_VALUE = 'GET_FILTER_PRICE_VALUE';\nconst GET_FILTER_TITLE_VALUE = 'GET_FILTER_TITLE_VALUE';\nconst PLACE_ORDER = 'PLACE_ORDER';\nconst CLEAR_CART = 'CLEAR_CART';\n\nexport {\n  LOGIN,\n  LOGIN_FROM_LOCAL_STORAGE,\n  API_ERROR,\n  LOAD_ALL_BOOKS,\n  LOG_OUT,\n  LOAD_BOOK_BY_ID,\n  CLEAR_SELECTED_BOOK,\n  ADD_BOOK_TO_CART,\n  GET_FILTER_PRICE_VALUE,\n  GET_FILTER_TITLE_VALUE,\n  PLACE_ORDER,\n  CLEAR_CART,\n};\n","import {\n  LOGIN,\n  LOGIN_FROM_LOCAL_STORAGE,\n  API_ERROR,\n  LOAD_ALL_BOOKS,\n  LOG_OUT,\n  LOAD_BOOK_BY_ID,\n  CLEAR_SELECTED_BOOK,\n  ADD_BOOK_TO_CART,\n  GET_FILTER_PRICE_VALUE,\n  GET_FILTER_TITLE_VALUE,\n  PLACE_ORDER,\n  CLEAR_CART,\n} from './types';\n\nconst initState = {\n  user: JSON.parse(localStorage.getItem('userInfo')) || {},\n  username: null,\n  loading: true,\n  error: null,\n  books: [],\n  bookDetails: {},\n  booksInTheCart: JSON.parse(localStorage.getItem('cart')) || [],\n  filterPriceValue: 'Price',\n  filterTitleValue: '',\n};\n\nconst addBookToCart = (state, addedBook) => {\n  const filteredBook = state.booksInTheCart.find(\n    (book) => book.id === addedBook.id\n  );\n  let updatedCart;\n  if (filteredBook) {\n    updatedCart = state.booksInTheCart.map((book) => {\n      if (book.id === addedBook.id)\n        return {\n          ...book,\n          count: Number(book.count) + Number(addedBook.count),\n          total:\n            (Number(book.count) + Number(addedBook.count)) * Number(book.price),\n        };\n    });\n  } else {\n    updatedCart = [...state.booksInTheCart, addedBook];\n  }\n\n  localStorage.setItem('cart', JSON.stringify(updatedCart));\n  return {\n    ...state,\n    booksInTheCart: updatedCart,\n  };\n};\n\nexport function reducer(state = initState, action) {\n  switch (action.type) {\n    case LOGIN:\n      return {\n        ...state,\n        loading: false,\n        user: action.userInfo,\n      };\n    case API_ERROR:\n      return {\n        ...state,\n        loading: false,\n        error: action.err,\n      };\n    case LOGIN_FROM_LOCAL_STORAGE:\n      return { ...state, user: action.userInfo };\n    case LOAD_ALL_BOOKS:\n      return { ...state, loading: false, books: action.books };\n    case LOG_OUT:\n      return { ...state, user: {} };\n    case LOAD_BOOK_BY_ID:\n      return { ...state, bookDetails: action.bookDetails, loading: false };\n    case CLEAR_SELECTED_BOOK:\n      return { ...state, bookDetails: {}, loading: true };\n    case ADD_BOOK_TO_CART:\n      return addBookToCart(state, action.addedBook);\n    case GET_FILTER_PRICE_VALUE:\n      return { ...state, filterPriceValue: action.priceFilterValue };\n    case GET_FILTER_TITLE_VALUE:\n      return { ...state, filterTitleValue: action.titleFilterValue };\n    case PLACE_ORDER:\n      return { ...state };\n    case CLEAR_CART:\n      localStorage.removeItem('cart');\n      return { ...state, booksInTheCart: [] };\n    default:\n      return state;\n  }\n}\n\nexport default reducer;\n","import { createStore, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport thunk from 'redux-thunk';\nimport reducer from './reducers';\n\nconst store = createStore(reducer, composeWithDevTools(applyMiddleware(thunk)));\n\nexport default store;\n","export default __webpack_public_path__ + \"static/media/login.4c1cc414.png\";","import axios from 'axios';\nclass Glitch {\n  _apiBase = 'https://js-band-store-api.glitch.me';\n\n  login = async (username) => {\n    try {\n      const result = await axios.post(`${this._apiBase}/signin`, {\n        username: username,\n      });\n      if (result.status !== 200) {\n        throw new Error(`Unable to login. Status code ${result.status}`);\n      }\n      return result.data;\n    } catch (err) {\n      throw new Error(`Unable to login. Status code ${err.response.status}`);\n    }\n  };\n\n  getAllBooks = async (token) => {\n    try {\n      const result = await axios.get(`${this._apiBase}/books`, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      if (result.status !== 200) {\n        throw new Error(\n          `Unable to load all books. Status code ${result.status}`\n        );\n      }\n      return result.data;\n    } catch (err) {\n      throw new Error(\n        `Unable to load all book. Status code ${err.response.status}`\n      );\n    }\n  };\n\n  loadBook = async (token, id) => {\n    try {\n      const result = await axios.get(`${this._apiBase}/books/${id}`, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      if (result.status !== 200) {\n        throw new Error(\n          `Unable to load book details. Status code ${result.status}`\n        );\n      }\n      return result.data;\n    } catch (err) {\n      throw new Error(\n        `Unable to load book details. Status code ${err.response.status}`\n      );\n    }\n  };\n\n  postPurchase = async (token, books) => {\n    try {\n      const result = await axios.post(\n        `${this._apiBase}/purchase`,\n        {\n          books: books,\n        },\n        {\n          headers: { Authorization: `Bearer ${token}` },\n        }\n      );\n      if (result.status !== 200) {\n        throw new Error(\n          `Unable to place an order. Status code ${result.status}`\n        );\n      }\n      return result.data;\n    } catch (err) {\n      throw new Error(\n        `Unable to place an order. Status code ${err.response.status}`\n      );\n    }\n  };\n}\n\nconst glitch = new Glitch();\n\nexport default glitch;\n","import React, { useState, useEffect } from 'react';\nimport './login.css';\nimport logo from './login.png';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { login } from '../../store/middleware';\nimport { loginFromLocalStorage } from '../../store/actionCreators';\nimport { ErrorIndicator } from '../index';\nimport { Redirect } from 'react-router-dom';\n\nconst Login = () => {\n  const dispatch = useDispatch();\n  const error = useSelector((state) => state.error);\n  const user = useSelector((state) => state.user);\n  const [usernameValue, setUsernameValue] = useState('');\n  const [userNameError, setUserNameError] = useState(false);\n  const [inputClasses, setInputClasses] = useState('username-input');\n\n  const handleChangeUsername = (e) => {\n    let name = e.target.value;\n    setUsernameValue(name.trim());\n    if (3 < name.length && name.length < 17) {\n      setUserNameError(false);\n    } else {\n      setUserNameError(true);\n    }\n  };\n\n  const handleLogin = (e) => {\n    e.preventDefault();\n    if (userNameError || !usernameValue) {\n      setInputClasses('username-input incorrect-username');\n    } else {\n      setInputClasses('username-input');\n      dispatch(login(usernameValue));\n    }\n  };\n\n  if (user.token) {\n    return <Redirect to=\"/catalog\" />;\n  }\n\n  return (\n    <div className=\"login-container\">\n      <p className=\"login-title\" align=\"center\">\n        JS Band Store\n      </p>\n      <div>\n        <img className=\"login-image\" src={logo} alt=\"login\" />\n      </div>\n      {error ? (\n        <ErrorIndicator />\n      ) : (\n        <LoginForm\n          inputClasses={inputClasses}\n          usernameValue={usernameValue}\n          handleChangeUsername={handleChangeUsername}\n          handleLogin={handleLogin}\n        />\n      )}\n    </div>\n  );\n};\n\nconst LoginForm = ({\n  inputClasses,\n  usernameValue,\n  handleChangeUsername,\n  handleLogin,\n}) => {\n  return (\n    <form className=\"login-form\">\n      <input\n        className={inputClasses}\n        type=\"text\"\n        align=\"center\"\n        placeholder=\"Username\"\n        value={usernameValue}\n        onChange={handleChangeUsername}\n      />\n      <p className=\"help-text\">\n        &#9889; Your username must be 4-16 characters long.\n      </p>\n      <a className=\"submit\" align=\"center\" href=\"/\" onClick={handleLogin}>\n        Log in\n      </a>\n    </form>\n  );\n};\n\nexport { Login };\n","import {\n  LOGIN,\n  API_ERROR,\n  LOAD_ALL_BOOKS,\n  LOAD_BOOK_BY_ID,\n  PLACE_ORDER,\n} from './types';\nimport glitch from '../services';\n\nconst login = (username) => {\n  return async (dispatch) => {\n    try {\n      const userInfo = await glitch.login(username);\n      localStorage.setItem('userInfo', JSON.stringify(userInfo));\n      dispatch({\n        type: LOGIN,\n        userInfo,\n      });\n    } catch (err) {\n      console.error(err.message);\n      dispatch({\n        type: API_ERROR,\n        err,\n      });\n    }\n  };\n};\n\nconst loadBooks = (token) => {\n  return async (dispatch) => {\n    try {\n      const books = await glitch.getAllBooks(token);\n      dispatch({\n        type: LOAD_ALL_BOOKS,\n        books,\n      });\n    } catch (err) {\n      console.error(err.message);\n      dispatch({\n        type: API_ERROR,\n        err,\n      });\n    }\n  };\n};\n\nconst loadBookById = (token, id) => {\n  return async (dispatch) => {\n    try {\n      const bookDetails = await glitch.loadBook(token, id);\n      dispatch({\n        type: LOAD_BOOK_BY_ID,\n        bookDetails,\n      });\n    } catch (err) {\n      console.error(err.message);\n      dispatch({\n        type: API_ERROR,\n        err,\n      });\n    }\n  };\n};\n\nconst placeOrder = (token, booksFromCart) => {\n  return async (dispatch) => {\n    try {\n      const messageAfterPurchase = await glitch.postPurchase(\n        token,\n        booksFromCart\n      );\n      dispatch({\n        type: PLACE_ORDER,\n        messageAfterPurchase,\n      });\n    } catch (err) {\n      console.error(err.message);\n      dispatch({\n        type: API_ERROR,\n        err,\n      });\n    }\n  };\n};\n\nexport { login, loadBooks, loadBookById, placeOrder };\n","import React from 'react';\nimport './spinner.css';\n\nconst Spinner = () => {\n  return (\n    <div className=\"loadingio-spinner-spinner-x0uuoqp72gm\">\n      <div className=\"ldio-yz9ydzph78\">\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n      </div>\n    </div>\n  );\n};\n\nexport { Spinner };\n","import React from 'react';\nimport './error-indicator.css';\n\nconst ErrorIndicator = () => {\n  return (\n    <div className=\"error-indicator\">\n      An error has occurred. Try reloading the page.\n    </div>\n  );\n};\n\nexport { ErrorIndicator };\n","import React, { Component } from 'react';\nimport { ErrorIndicator } from '../index';\n\nclass ErrorBoundary extends Component {\n  state = {\n    hasError: false,\n  };\n\n  static getDerivedStateFromError(error) {\n    return { hasError: true };\n  }\n  render() {\n    if (this.state.hasError) {\n      return <ErrorIndicator />;\n    }\n    return this.props.children;\n  }\n}\n\nexport { ErrorBoundary };\n","import React from 'react';\nimport './header.css';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { logOut } from '../../store/actionCreators';\nimport { Link } from 'react-router-dom';\n\nconst Header = () => {\n  const dispatch = useDispatch();\n  const user = useSelector((state) => state.user);\n  const booksInTheCart = useSelector((state) => state.booksInTheCart);\n  if (!user.token) return null;\n  return (\n    <header>\n      <div className=\"sign-out\">\n        {user.username}\n        <i className=\"fas fa-sign-out-alt\" onClick={() => dispatch(logOut())} />\n      </div>\n      <div className=\"header d-flex justify-content-between\">\n        <h1 className=\"header-title\">JS Band Store</h1>\n        <Link\n          to=\"/cart\"\n          className=\"shopping-cart\"\n          style={{ textDecoration: 'none' }}\n        >\n          <i className=\"fas fa-shopping-cart\" />\n          {`Cart(${booksInTheCart.length})`}\n        </Link>\n      </div>\n    </header>\n  );\n};\n\nexport { Header };\n","import {\n  LOGIN_FROM_LOCAL_STORAGE,\n  LOG_OUT,\n  CLEAR_SELECTED_BOOK,\n  ADD_BOOK_TO_CART,\n  GET_FILTER_PRICE_VALUE,\n  GET_FILTER_TITLE_VALUE,\n  CLEAR_CART,\n} from './types';\n\nconst loginFromLocalStorage = (userInfo) => ({\n  type: LOGIN_FROM_LOCAL_STORAGE,\n  userInfo,\n});\n\nconst logOut = () => {\n  localStorage.removeItem('userInfo');\n  return {\n    type: LOG_OUT,\n  };\n};\n\nconst clearSelectedBook = () => ({\n  type: CLEAR_SELECTED_BOOK,\n});\n\nconst addBookToCart = (addedBook) => ({\n  type: ADD_BOOK_TO_CART,\n  addedBook,\n});\n\nconst getFilterPriceValue = (priceFilterValue) => ({\n  type: GET_FILTER_PRICE_VALUE,\n  priceFilterValue,\n});\n\nconst getFilterTitleValue = (titleFilterValue) => ({\n  type: GET_FILTER_TITLE_VALUE,\n  titleFilterValue,\n});\n\nconst clearCart = () => ({\n  type: CLEAR_CART,\n});\n\nexport {\n  loginFromLocalStorage,\n  logOut,\n  clearSelectedBook,\n  addBookToCart,\n  getFilterPriceValue,\n  getFilterTitleValue,\n  clearCart,\n};\n","import './book-list-item.css';\nimport React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { clearSelectedBook } from '../../store/actionCreators';\nimport { useDispatch } from 'react-redux';\n\nconst BookListItem = ({ book, history }) => {\n  const dispatch = useDispatch();\n  const { title, author, price, cover, id } = book;\n\n  return (\n    <div className=\"card\">\n      <img src={cover} className=\"card-text card-img\" alt={title} />\n      <div className=\"card-body\">\n        <h5 className=\"card-title\">{title}</h5>\n        <p className=\"card-text\">{author}</p>\n        <div className=\"d-flex footer-card-section\">\n          <p className=\"card-text\">{price} $</p>\n          <button\n            className=\"btn btn-info\"\n            onClick={() => {\n              history.push(`/catalog/${id}`);\n              dispatch(clearSelectedBook());\n            }}\n          >\n            View\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default withRouter(BookListItem);\n","import './book-list.css';\nimport React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { loadBooks } from '../../store/middleware';\nimport BookListItem from '../book-list-item';\nimport { ErrorIndicator, Spinner, PriceFilter, TitleSearch } from '../index';\nimport { Redirect } from 'react-router-dom';\nimport { filterBooksByPrice, searchBooksByTitle } from '../../utils';\n\nconst BookList = () => {\n  const dispatch = useDispatch();\n  const books = useSelector((state) => state.books);\n  const user = useSelector((state) => state.user);\n  const error = useSelector((state) => state.error);\n  const loading = useSelector((state) => state.loading);\n  const filterPriceValue = useSelector((state) => state.filterPriceValue);\n  const filterTitleValue = useSelector((state) => state.filterTitleValue);\n\n  useEffect(() => {\n    if (user.token) {\n      dispatch(loadBooks(user.token));\n    }\n  }, [dispatch, user.token]);\n\n  const allBooks = filterBooksByPrice(\n    searchBooksByTitle(books, filterTitleValue),\n    filterPriceValue\n  ).map((book) => <BookListItem book={book} key={book.id} />);\n\n  if (!user.token) {\n    return <Redirect to=\"/login\" />;\n  }\n\n  const hasData = !(loading || error);\n  const content = hasData ? allBooks : null;\n  return (\n    <div>\n      <div className=\"d-flex\">\n        <PriceFilter />\n        <TitleSearch />\n      </div>\n\n      <div className=\"book-list\">\n        {error && <ErrorIndicator />}\n        {loading && <Spinner />}\n        {content}\n      </div>\n    </div>\n  );\n};\n\nexport { BookList };\n","const filterBooksByPrice = (books, price) => {\n  if (price === 'Price') {\n    return books;\n  } else if (price === '< 25') {\n    return books.filter(({ price }) => price < 25);\n  } else if (price === '< 50') {\n    return books.filter(({ price }) => price > 25 && price < 50);\n  } else if (price === '> 50') {\n    return books.filter(({ price }) => price > 50);\n  }\n};\n\nconst searchBooksByTitle = (books, titleSearchValue) => {\n  if (titleSearchValue === '') {\n    return books;\n  } else {\n    return books.filter(({ title }) =>\n      title.toLowerCase().includes(titleSearchValue.toLowerCase())\n    );\n  }\n};\n\nexport { filterBooksByPrice, searchBooksByTitle };\n","import './book-info.css';\nimport React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport { ErrorIndicator, Spinner, BookCart } from '../index';\nimport { loadBookById } from '../../store/middleware';\n\nconst BookInfo = ({ itemId }) => {\n  const bookDetails = useSelector((state) => state.bookDetails);\n  const user = useSelector((state) => state.user);\n  const error = useSelector((state) => state.error);\n  const loading = useSelector((state) => state.loading);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (user.token) {\n      dispatch(loadBookById(user.token, itemId));\n    }\n  }, [dispatch, itemId, user]);\n\n  if (!user.token) {\n    return <Redirect to=\"/login\" />;\n  }\n\n  const hasData = !(loading || error);\n  const content =\n    hasData && !!bookDetails ? (\n      <>\n        <CardContent bookDetails={bookDetails} />\n        <BookCart bookDetails={bookDetails} />\n      </>\n    ) : null;\n  return (\n    <div className=\"card-details d-flex\">\n      {error && <ErrorIndicator />}\n      {loading && <Spinner />}\n      {content}\n    </div>\n  );\n};\n\nconst CardContent = ({ bookDetails }) => {\n  const { title, cover, description, author, tags } = bookDetails;\n  return (\n    <div className=\"d-flex info-container\">\n      <div className=\"image-container\">\n        <img className=\"image\" src={cover} alt={title} />\n        <p className=\"book-desc\">{description}</p>\n      </div>\n      <div>\n        <h5 className=\"card-title\">{title}</h5>\n        <p className=\"book-auth\">\n          <small>{author}</small>\n        </p>\n        <div className=\"tags\">\n          <i className=\"fas fa-tags\"></i>\n          {tags && tags.join(', ')}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport { BookInfo };\n","import './book-cart.css';\nimport React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addBookToCart } from '../../store/actionCreators';\n\nconst BookCart = ({ bookDetails }) => {\n  const dispatch = useDispatch();\n  const booksInTheCart = useSelector((state) => state.booksInTheCart);\n  const { price, count, id, title } = bookDetails;\n  const [countValue, setCountValue] = useState(0);\n  const [totalPrice, setTotalPrice] = useState(0);\n  const [addedBook, setAddedBook] = useState({\n    name: title,\n    id: id,\n    price: price,\n    count: null,\n    total: null,\n  });\n\n  const handleChangeCount = (e) => {\n    let value = e.target.value;\n    setCountValue(value);\n    setTotalPrice((value * price).toFixed(2));\n    setAddedBook({\n      ...addedBook,\n      count: value,\n      total: (value * price).toFixed(2),\n    });\n  };\n\n  const addToCart = () => {\n    if (countValue) {\n      dispatch(addBookToCart(addedBook));\n    }\n  };\n\n  return (\n    <div className=\"card book-cart\">\n      <div className=\"card-body\">\n        <div className=\"price d-flex\">\n          <p className=\"card-text\">Price, $</p>\n          <p>{price}</p>\n        </div>\n        <div className=\"d-flex count\">\n          <p className=\"card-text\">Count</p>\n          <input\n            className=\"count-input\"\n            type=\"number\"\n            value={countValue}\n            onChange={handleChangeCount}\n            min=\"1\"\n            max={count}\n          ></input>\n        </div>\n        <div className=\"d-flex total\">\n          <p className=\"card-text\">Total Price, $</p>\n          <p className=\"card-text\">{totalPrice}</p>\n        </div>\n        <button className=\"btn btn-info add-to-cart\" onClick={addToCart}>\n          Add to cart\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport { BookCart };\n","import React from 'react';\nimport './price-filter.css';\nimport { useDispatch } from 'react-redux';\nimport { getFilterPriceValue } from '../../store/actionCreators';\n\nconst PriceFilter = () => {\n  const dispatch = useDispatch();\n  return (\n    <select\n      className=\"custom-select price-filter\"\n      onChange={(e) => {\n        dispatch(getFilterPriceValue(e.target.value));\n      }}\n    >\n      <option value=\"Price\">Price</option>\n      <option value=\"< 25\">{`price < 25`}</option>\n      <option value=\"< 50\">{`25 < price < 50`}</option>\n      <option value=\"> 50\">{`price > 50`}</option>\n    </select>\n  );\n};\n\nexport { PriceFilter };\n","import React from 'react';\nimport './title-filter.css';\nimport { useDispatch } from 'react-redux';\nimport { getFilterTitleValue } from '../../store/actionCreators';\n\nconst TitleSearch = () => {\n  const dispatch = useDispatch();\n  return (\n    <div className=\"form-group has-search\">\n      <span className=\"fa fa-search form-control-feedback\"></span>\n      <input\n        type=\"text\"\n        className=\"form-control\"\n        placeholder=\"type to search\"\n        onChange={(e) => {\n          dispatch(getFilterTitleValue(e.target.value));\n        }}\n      />\n    </div>\n  );\n};\n\nexport { TitleSearch };\n","import React from 'react';\nimport './cart.css';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport { placeOrder } from '../../store/middleware';\nimport { clearCart } from '../../store/actionCreators';\n\nconst Cart = () => {\n  const booksInTheCart = useSelector((state) => state.booksInTheCart);\n  const user = useSelector((state) => state.user);\n  const dispatch = useDispatch();\n\n  console.log(booksInTheCart);\n  const allBooksIds = booksInTheCart.reduce((acc, book) => {\n    if (book.count === 1) {\n      acc += `${book.id},`;\n    } else {\n      for (let i = 0; i < book.count; i++) {\n        acc += `${book.id},`;\n      }\n    }\n    return acc;\n  }, '');\n  const stringOfIds = allBooksIds.slice(0, -1);\n\n  if (!user.token) {\n    return <Redirect to=\"/login\" />;\n  }\n\n  if (booksInTheCart.length === 0) {\n    return (\n      <div className=\"shopping-cart-page\">\n        <i className=\"fas fa-shopping-cart\" />\n        <p className=\"empty-cart\">Cart empty...</p>\n      </div>\n    );\n  }\n  return (\n    <div className=\"full-cart\">\n      <div className=\"d-grid gap-2 d-md-flex justify-content-md-end\">\n        <button\n          className=\"btn btn-info me-md-2 purchase\"\n          type=\"button\"\n          data-bs-toggle=\"modal\"\n          data-bs-target=\"#staticBackdrop\"\n          onClick={() => dispatch(placeOrder(user.token, stringOfIds))}\n        >\n          Purchase\n        </button>\n      </div>\n      <div\n        className=\"modal fade\"\n        id=\"staticBackdrop\"\n        data-bs-backdrop=\"static\"\n        data-bs-keyboard=\"false\"\n        aria-labelledby=\"staticBackdropLabel\"\n        aria-hidden=\"true\"\n      >\n        <div className=\"modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h6 className=\"modal-title\" id=\"staticBackdropLabel\">\n                You successfully placed an order!\n              </h6>\n            </div>\n            <div className=\"modal-body\">\n              <CartTable booksInTheCart={booksInTheCart} />\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                type=\"button\"\n                className=\"btn btn-secondary\"\n                data-bs-dismiss=\"modal\"\n                onClick={() => dispatch(clearCart())}\n              >\n                Close\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <CartTable booksInTheCart={booksInTheCart} />\n    </div>\n  );\n};\n\nconst CartTable = ({ booksInTheCart }) => {\n  return (\n    <>\n      <table className=\"table table-striped\">\n        <thead>\n          <tr>\n            <th scope=\"col\">Name</th>\n            <th scope=\"col\">Count</th>\n            <th scope=\"col\">Price</th>\n            <th scope=\"col\">Total</th>\n          </tr>\n        </thead>\n        <tbody>\n          {booksInTheCart.map((book) => (\n            <tr key={book.id}>\n              <th scope=\"row\" className=\"book-title\">\n                {book.name}\n              </th>\n              <td>{book.count}</td>\n              <td>{book.price}</td>\n              <td>{book.total}</td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n      <div className=\"total-price\">\n        Total price:&nbsp;\n        {booksInTheCart\n          .reduce((acc, book) => {\n            return (acc += +book.total);\n          }, 0)\n          .toFixed(2)}\n        &nbsp; $\n      </div>\n    </>\n  );\n};\n\nexport { Cart, CartTable };\n","import React from 'react';\nimport './app.css';\nimport { Login, Header, BookList, BookInfo, Cart } from '../index';\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nconst App = () => {\n  const user = useSelector((state) => state.user);\n\n  return (\n    <div className=\"container\">\n      {user.token && <Header />}\n      <Switch>\n        <Route\n          path=\"/finalTask\"\n          render={() => !user.token && <Redirect to=\"/login\" />}\n          exact\n        />\n        <Route path=\"/login\" component={Login} />\n        <Route path=\"/cart\" component={Cart} />\n        <Route\n          path=\"/catalog/:id\"\n          render={({ match }) => {\n            const { id } = match.params;\n            return <BookInfo itemId={id} />;\n          }}\n        />\n        <Route exact path=\"/catalog\" component={BookList} />\n        <Redirect to=\"/finalTask\" />\n      </Switch>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from './store';\nimport { ErrorBoundary } from './component/index';\nimport { BrowserRouter, HashRouter } from 'react-router-dom';\n\nimport App from './component/app';\n\nReactDOM.render(\n  <Provider store={store}>\n    <ErrorBoundary>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </ErrorBoundary>\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}