{"version":3,"sources":["store/types.js","store/reducers.js","store/index.js","assets/login2.png","services/index.js","component/login/index.js","store/middleware.js","component/spinner/index.js","component/error-indicator/index.js","component/error-boundary/index.js","component/header/index.js","store/actionCreators.js","component/book-list-item/index.js","component/book-list/index.js","utils.js","component/book-info/index.js","component/book-cart/index.js","component/price-filter/index.js","component/title-filter/index.js","component/cart/index.js","component/app/index.js","index.js"],"names":["LOGIN","API_ERROR","LOGIN_FROM_LOCAL_STORAGE","LOAD_ALL_BOOKS","LOG_OUT","LOAD_BOOK_BY_ID","CLEAR_SELECTED_BOOK","ADD_BOOK_TO_CART","GET_FILTER_PRICE_VALUE","GET_FILTER_TITLE_VALUE","PLACE_ORDER","CLEAR_CART","initState","user","JSON","parse","localStorage","getItem","username","loading","error","books","bookDetails","booksInTheCart","filterPriceValue","filterTitleValue","addBookToCart","state","addedBook","updatedCart","setItem","stringify","reducer","action","type","userInfo","err","priceFilterValue","titleFilterValue","removeItem","store","createStore","composeWithDevTools","applyMiddleware","thunk","glitch","_apiBase","login","a","axios","post","result","status","Error","data","response","getAllBooks","token","get","headers","Authorization","loadBook","id","postPurchase","Login","dispatch","useDispatch","useSelector","useState","usernameValue","setUsernameValue","userNameError","setUserNameError","inputClasses","setInputClasses","to","className","align","src","logo","alt","handleChangeUsername","e","name","target","value","trim","length","handleLogin","preventDefault","console","message","LoginForm","placeholder","onChange","href","onClick","Spinner","ErrorIndicator","ErrorBoundary","hasError","this","props","children","Component","Header","style","textDecoration","withRouter","book","history","title","author","price","cover","push","BookList","useEffect","allBooks","filter","filterBooksByPrice","titleSearchValue","toLowerCase","includes","searchBooksByTitle","map","content","BookInfo","itemId","CardContent","description","tags","join","BookCart","count","countValue","setCountValue","totalPrice","setTotalPrice","total","setAddedBook","toFixed","min","max","PriceFilter","TitleSearch","Cart","stringOfIds","reduce","acc","i","slice","data-bs-toggle","data-bs-target","booksFromCart","messageAfterPurchase","data-bs-backdrop","data-bs-keyboard","aria-labelledby","aria-hidden","data-bs-dismiss","CartTable","scope","App","path","render","exact","component","match","params","ReactDOM","document","getElementById"],"mappings":"4bAAMA,EAAQ,QACRC,EAAY,YACZC,EAA2B,2BAC3BC,EAAiB,iBACjBC,EAAU,UACVC,EAAkB,kBAClBC,EAAsB,sBACtBC,EAAmB,mBACnBC,EAAyB,yBACzBC,EAAyB,yBACzBC,EAAc,cACdC,EAAa,aCIbC,EAAY,CAChBC,KAAMC,KAAKC,MAAMC,aAAaC,QAAQ,cAAgB,GACtDC,SAAU,KACVC,SAAS,EACTC,MAAO,KACPC,MAAO,GACPC,YAAa,GACbC,eAAgBT,KAAKC,MAAMC,aAAaC,QAAQ,UAAY,GAC5DO,iBAAkB,QAClBC,iBAAkB,IAGdC,EAAgB,SAACC,EAAOC,GAgB5B,IAAMC,EAAW,sBAAOF,EAAMJ,gBAAb,CAA6BK,IAE9C,OADAZ,aAAac,QAAQ,OAAQhB,KAAKiB,UAAUF,IACrC,2BACFF,GADL,IAEEJ,eAAgBM,KA4CLG,MAxCR,WAA6C,IAA5BL,EAA2B,uDAAnBf,EAAWqB,EAAQ,uCACjD,OAAQA,EAAOC,MACb,KAAKlC,EACH,OAAO,2BACF2B,GADL,IAEER,SAAS,EACTN,KAAMoB,EAAOE,WAEjB,KAAKlC,EACH,OAAO,2BACF0B,GADL,IAEER,SAAS,EACTC,MAAOa,EAAOG,MAElB,KAAKlC,EACH,OAAO,2BAAKyB,GAAZ,IAAmBd,KAAMoB,EAAOE,WAClC,KAAKhC,EACH,OAAO,2BAAKwB,GAAZ,IAAmBR,SAAS,EAAOE,MAAOY,EAAOZ,QACnD,KAAKjB,EACH,OAAO,2BAAKuB,GAAZ,IAAmBd,KAAM,KAC3B,KAAKR,EACH,OAAO,2BAAKsB,GAAZ,IAAmBL,YAAaW,EAAOX,YAAaH,SAAS,IAC/D,KAAKb,EACH,OAAO,2BAAKqB,GAAZ,IAAmBL,YAAa,GAAIH,SAAS,IAC/C,KAAKZ,EACH,OAAOmB,EAAcC,EAAOM,EAAOL,WACrC,KAAKpB,EACH,OAAO,2BAAKmB,GAAZ,IAAmBH,iBAAkBS,EAAOI,mBAC9C,KAAK5B,EACH,OAAO,2BAAKkB,GAAZ,IAAmBF,iBAAkBQ,EAAOK,mBAC9C,KAAK5B,EACH,OAAO,eAAKiB,GACd,KAAKhB,EAEH,OADAK,aAAauB,WAAW,QACjB,2BAAKZ,GAAZ,IAAmBJ,eAAgB,KACrC,QACE,OAAOI,IChFEa,EAFDC,sBAAYT,EAASU,8BAAoBC,0BAAgBC,O,QCLxD,G,MAAA,IAA0B,oC,iDCiF1BC,EAFA,I,iDA7EbC,SAAW,sC,KAEXC,M,uCAAQ,WAAO7B,GAAP,eAAA8B,EAAA,+EAEiBC,IAAMC,KAAN,UAAc,EAAKJ,SAAnB,WAAsC,CACzD5B,SAAUA,IAHR,UAKkB,OAHhBiC,EAFF,QAKOC,OALP,sBAMI,IAAIC,MAAJ,uCAA0CF,EAAOC,SANrD,gCAQGD,EAAOG,MARV,sCAUE,IAAID,MAAJ,uCAA0C,KAAIE,SAASH,SAVzD,yD,2DAcRI,Y,uCAAc,WAAOC,GAAP,eAAAT,EAAA,+EAEWC,IAAMS,IAAN,UAAa,EAAKZ,SAAlB,UAAoC,CACvDa,QAAS,CAAEC,cAAc,UAAD,OAAYH,MAH5B,UAKY,OAHhBN,EAFI,QAKCC,OALD,sBAMF,IAAIC,MAAJ,gDACqCF,EAAOC,SAP1C,gCAUHD,EAAOG,MAVJ,sCAYJ,IAAID,MAAJ,+CACoC,KAAIE,SAASH,SAb7C,yD,2DAkBdS,S,uCAAW,WAAOJ,EAAOK,GAAd,eAAAd,EAAA,+EAEcC,IAAMS,IAAN,UAAa,EAAKZ,SAAlB,kBAAoCgB,GAAM,CAC7DH,QAAS,CAAEC,cAAc,UAAD,OAAYH,MAH/B,UAKe,OAHhBN,EAFC,QAKIC,OALJ,sBAMC,IAAIC,MAAJ,mDACwCF,EAAOC,SAPhD,gCAUAD,EAAOG,MAVP,sCAYD,IAAID,MAAJ,mDACwC,KAAIE,SAASH,SAbpD,yD,6DAkBXW,a,uCAAe,WAAON,EAAOpC,GAAd,eAAA2B,EAAA,+EAEUC,IAAMC,KAAN,UAChB,EAAKJ,SADW,aAEnB,CACEzB,MAAOA,GAET,CACEsC,QAAS,CAAEC,cAAc,UAAD,OAAYH,MAR7B,UAWW,OAThBN,EAFK,QAWAC,OAXA,sBAYH,IAAIC,MAAJ,gDACqCF,EAAOC,SAbzC,gCAgBJD,EAAOG,MAhBH,sCAkBL,IAAID,MAAJ,gDACqC,KAAIE,SAASH,SAnB7C,yD,uEC7CXY,EAAQ,WACZ,IAAMC,EAAWC,cACX9C,EAAQ+C,aAAY,SAACxC,GAAD,OAAWA,EAAMP,SACrCP,EAAOsD,aAAY,SAACxC,GAAD,OAAWA,EAAMd,QAHxB,EAIwBuD,mBAAS,IAJjC,mBAIXC,EAJW,KAIIC,EAJJ,OAKwBF,oBAAS,GALjC,mBAKXG,EALW,KAKIC,EALJ,OAMsBJ,mBAAS,kBAN/B,mBAMXK,EANW,KAMGC,EANH,KA4BlB,OAAI7D,EAAK4C,MACA,cAAC,IAAD,CAAUkB,GAAG,aAIpB,sBAAKC,UAAU,kBAAf,UACE,mBAAGA,UAAU,cAAcC,MAAM,SAAjC,2BAGA,8BACE,qBAAKD,UAAU,cAAcE,IAAKC,EAAMC,IAAI,YAE7C5D,EACC,cAAC,EAAD,IAEA,cAAC,EAAD,CACEqD,aAAcA,EACdJ,cAAeA,EACfY,qBAtCqB,SAACC,GAC5B,IAAIC,EAAOD,EAAEE,OAAOC,MACpBf,EAAiBa,EAAKG,QAClB,EAAIH,EAAKI,QAAUJ,EAAKI,OAAS,GACnCf,GAAiB,GAEjBA,GAAiB,IAiCbgB,YA7BY,SAACN,GClBT,IAAChE,EDmBXgE,EAAEO,iBACElB,IAAkBF,EACpBK,EAAgB,sCAEhBA,EAAgB,kBAChBT,GCxBS/C,EDwBMmD,ECvBnB,uCAAO,WAAOJ,GAAP,eAAAjB,EAAA,+EAEoBH,EAAOE,MAAM7B,GAFjC,OAEGiB,EAFH,OAGHnB,aAAac,QAAQ,WAAYhB,KAAKiB,UAAUI,IAChD8B,EAAS,CACP/B,KAAMlC,EACNmC,aANC,gDASHuD,QAAQtE,MAAM,KAAIuE,SAClB1B,EAAS,CACP/B,KAAMjC,EACNmC,IAAG,OAZF,yDAAP,gEDqDIwD,EAAY,SAAC,GAKZ,IAJLnB,EAII,EAJJA,aACAJ,EAGI,EAHJA,cACAY,EAEI,EAFJA,qBACAO,EACI,EADJA,YAEA,OACE,uBAAMZ,UAAU,aAAhB,UACE,uBACEA,UAAWH,EACXvC,KAAK,OACL2C,MAAM,SACNgB,YAAY,WACZR,MAAOhB,EACPyB,SAAUb,IAEZ,mBAAGL,UAAU,YAAb,gEAGA,mBAAGA,UAAU,SAASC,MAAM,SAASkB,KAAK,IAAIC,QAASR,EAAvD,wBE/EAS,G,MAAU,WACd,OACE,qBAAKrB,UAAU,wCAAf,SACE,sBAAKA,UAAU,kBAAf,UACE,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,wBACA,+BCfFsB,G,MAAiB,WACrB,OACE,qBAAKtB,UAAU,kBAAf,8D,wBCFEuB,E,4MACJxE,MAAQ,CACNyE,UAAU,G,4CAMZ,WACE,OAAIC,KAAK1E,MAAMyE,SACN,cAAC,EAAD,IAEFC,KAAKC,MAAMC,Y,uCAPpB,SAAgCnF,GAC9B,MAAO,CAAEgF,UAAU,O,GANKI,a,gBCGtBC,EAAS,WACb,IAAMxC,EAAWC,cACXrD,EAAOsD,aAAY,SAACxC,GAAD,OAAWA,EAAMd,QACpCU,EAAiB4C,aAAY,SAACxC,GAAD,OAAWA,EAAMJ,kBACpD,OAAKV,EAAK4C,MAER,mCACE,sBAAKmB,UAAU,WAAf,UACG/D,EAAKK,SACN,mBAAG0D,UAAU,sBAAsBoB,QAAS,kBAAM/B,GCCxDjD,aAAauB,WAAW,YACjB,CACLL,KAAM9B,WDDJ,sBAAKwE,UAAU,wCAAf,UACE,oBAAIA,UAAU,eAAd,2BACA,eAAC,IAAD,CACED,GAAG,QACHC,UAAU,gBACV8B,MAAO,CAAEC,eAAgB,QAH3B,UAKE,mBAAG/B,UAAU,yBALf,eAMWrD,EAAegE,OAN1B,cATkB,MEuBXqB,G,YAAAA,aA3BM,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,QACtB7C,EAAWC,cACT6C,EAAoCF,EAApCE,MAAOC,EAA6BH,EAA7BG,OAAQC,EAAqBJ,EAArBI,MAAOC,EAAcL,EAAdK,MAAOpD,EAAO+C,EAAP/C,GAErC,OACE,sBAAKc,UAAU,OAAf,UACE,qBAAKE,IAAKoC,EAAOtC,UAAU,qBAAqBI,IAAK+B,IACrD,sBAAKnC,UAAU,YAAf,UACE,oBAAIA,UAAU,aAAd,SAA4BmC,IAC5B,mBAAGnC,UAAU,YAAb,SAA0BoC,IAC1B,sBAAKpC,UAAU,6BAAf,UACE,oBAAGA,UAAU,YAAb,UAA0BqC,EAA1B,QACA,wBACErC,UAAU,eACVoB,QAAS,WACPc,EAAQK,KAAR,mBAAyBrD,IACzBG,EDAmB,CAC/B/B,KAAM5B,KCLE,+BCTJ8G,EAAW,WACf,IAAMnD,EAAWC,cACX7C,EAAQ8C,aAAY,SAACxC,GAAD,OAAWA,EAAMN,SACrCR,EAAOsD,aAAY,SAACxC,GAAD,OAAWA,EAAMd,QACpCO,EAAQ+C,aAAY,SAACxC,GAAD,OAAWA,EAAMP,SACrCD,EAAUgD,aAAY,SAACxC,GAAD,OAAWA,EAAMR,WACvCK,EAAmB2C,aAAY,SAACxC,GAAD,OAAWA,EAAMH,oBAChDC,EAAmB0C,aAAY,SAACxC,GAAD,OAAWA,EAAMF,oBAEtD4F,qBAAU,WPUM,IAAC5D,EOTX5C,EAAK4C,OACPQ,GPQaR,EORM5C,EAAK4C,MPS5B,uCAAO,WAAOQ,GAAP,eAAAjB,EAAA,+EAEiBH,EAAOW,YAAYC,GAFpC,OAEGpC,EAFH,OAGH4C,EAAS,CACP/B,KAAM/B,EACNkB,UALC,gDAQHqE,QAAQtE,MAAM,KAAIuE,SAClB1B,EAAS,CACP/B,KAAMjC,EACNmC,IAAG,OAXF,yDAAP,0DOPG,CAAC6B,EAAUpD,EAAK4C,QAEnB,IAAM6D,ECxBmB,SAACjG,EAAO4F,GACjC,MAAc,UAAVA,EACK5F,EACY,SAAV4F,EACF5F,EAAMkG,QAAO,qBAAGN,MAAoB,MACxB,SAAVA,EACF5F,EAAMkG,QAAO,gBAAGN,EAAH,EAAGA,MAAH,OAAeA,EAAQ,IAAMA,EAAQ,MACtC,SAAVA,EACF5F,EAAMkG,QAAO,qBAAGN,MAAoB,WADtC,EDiBUO,CCZQ,SAACnG,EAAOoG,GACjC,MAAyB,KAArBA,EACKpG,EAEAA,EAAMkG,QAAO,qBAAGR,MACfW,cAAcC,SAASF,EAAiBC,kBDQhDE,CAAmBvG,EAAOI,GAC1BD,GACAqG,KAAI,SAAChB,GAAD,OAAU,cAAC,EAAD,CAAcA,KAAMA,GAAWA,EAAK/C,OAEpD,IAAKjD,EAAK4C,MACR,OAAO,cAAC,IAAD,CAAUkB,GAAG,WAGtB,IACMmD,IADY3G,GAAWC,GACHkG,EAAW,KACrC,OACE,gCACE,sBAAK1C,UAAU,SAAf,UACE,cAAC,GAAD,IACA,cAAC,GAAD,OAGF,sBAAKA,UAAU,YAAf,UACGxD,GAAS,cAAC,EAAD,IACTD,GAAW,cAAC,EAAD,IACX2G,SEtCHC,G,MAAW,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OACZ1G,EAAc6C,aAAY,SAACxC,GAAD,OAAWA,EAAML,eAC3CT,EAAOsD,aAAY,SAACxC,GAAD,OAAWA,EAAMd,QACpCO,EAAQ+C,aAAY,SAACxC,GAAD,OAAWA,EAAMP,SACrCD,EAAUgD,aAAY,SAACxC,GAAD,OAAWA,EAAMR,WACvC8C,EAAWC,cAQjB,GANAmD,qBAAU,WTgCS,IAAC5D,EAAOK,ES/BrBjD,EAAK4C,OACPQ,GT8BgBR,ES9BM5C,EAAK4C,MT8BJK,ES9BWkE,ET+BtC,uCAAO,WAAO/D,GAAP,eAAAjB,EAAA,+EAEuBH,EAAOgB,SAASJ,EAAOK,GAF9C,OAEGxC,EAFH,OAGH2C,EAAS,CACP/B,KAAM7B,EACNiB,gBALC,gDAQHoE,QAAQtE,MAAM,KAAIuE,SAClB1B,EAAS,CACP/B,KAAMjC,EACNmC,IAAG,OAXF,yDAAP,0DS7BG,CAAC6B,EAAU+D,EAAQnH,KAEjBA,EAAK4C,MACR,OAAO,cAAC,IAAD,CAAUkB,GAAG,WAGtB,IACMmD,IADY3G,GAAWC,IAEdE,EACX,qCACE,cAAC,EAAD,CAAaA,YAAaA,IAC1B,cAAC,EAAD,CAAUA,YAAaA,OAEvB,KACN,OACE,sBAAKsD,UAAU,sBAAf,UACGxD,GAAS,cAAC,EAAD,IACTD,GAAW,cAAC,EAAD,IACX2G,OAKDG,EAAc,SAAC,GAAqB,IAAnB3G,EAAkB,EAAlBA,YACbyF,EAA4CzF,EAA5CyF,MAAOG,EAAqC5F,EAArC4F,MAAOgB,EAA8B5G,EAA9B4G,YAAalB,EAAiB1F,EAAjB0F,OAAQmB,EAAS7G,EAAT6G,KAC3C,OACE,sBAAKvD,UAAU,wBAAf,UACE,sBAAKA,UAAU,kBAAf,UACE,qBAAKA,UAAU,QAAQE,IAAKoC,EAAOlC,IAAK+B,IACxC,mBAAGnC,UAAU,YAAb,SAA0BsD,OAE5B,gCACE,oBAAItD,UAAU,aAAd,SAA4BmC,IAC5B,mBAAGnC,UAAU,YAAb,SACE,gCAAQoC,MAEV,sBAAKpC,UAAU,OAAf,UACE,mBAAGA,UAAU,gBACZuD,GAAQA,EAAKC,KAAK,gBCnDvBC,G,MAAW,SAAC,GAAqB,IAAnB/G,EAAkB,EAAlBA,YACZ2C,EAAWC,cAET+C,GADe9C,aAAY,SAACxC,GAAD,OAAWA,EAAMJ,kBAChBD,EAA5B2F,OAAOqB,EAAqBhH,EAArBgH,MAAOxE,EAAcxC,EAAdwC,GAAIiD,EAAUzF,EAAVyF,MAHU,EAIA3C,mBAAS,GAJT,mBAI7BmE,EAJ6B,KAIjBC,EAJiB,OAKApE,mBAAS,GALT,mBAK7BqE,EAL6B,KAKjBC,EALiB,OAMFtE,mBAAS,CACzCe,KAAM4B,EACNjD,GAAIA,EACJmD,MAAOA,EACPqB,MAAO,KACPK,MAAO,OAX2B,mBAM7B/G,EAN6B,KAMlBgH,EANkB,KA+BpC,OACE,qBAAKhE,UAAU,iBAAf,SACE,sBAAKA,UAAU,YAAf,UACE,sBAAKA,UAAU,eAAf,UACE,mBAAGA,UAAU,YAAb,sBACA,4BAAIqC,OAEN,sBAAKrC,UAAU,eAAf,UACE,mBAAGA,UAAU,YAAb,mBACA,uBACEA,UAAU,cACV1C,KAAK,SACLmD,MAAOkD,EACPzC,SA9BgB,SAACZ,GACzB,IAAIG,EAAQH,EAAEE,OAAOC,MACrBmD,EAAcnD,GACdqD,GAAerD,EAAQ4B,GAAO4B,QAAQ,IACtCD,EAAa,2BACRhH,GADO,IAEV0G,MAAOjD,EACPsD,OAAQtD,EAAQ4B,GAAO4B,QAAQ,OAwBzBC,IAAI,IACJC,IAAKT,OAGT,sBAAK1D,UAAU,eAAf,UACE,mBAAGA,UAAU,YAAb,4BACA,mBAAGA,UAAU,YAAb,SAA0B6D,OAE5B,wBAAQ7D,UAAU,2BAA2BoB,QA5BjC,WACZuC,GACFtE,ELNgB,SAACrC,GAAD,MAAgB,CACpCM,KAAM3B,EACNqB,aKIaF,CAAcE,KA0BrB,gCCrDFoH,I,MAAc,WAClB,IAAM/E,EAAWC,cACjB,OACE,yBACEU,UAAU,6BACVkB,SAAU,SAACZ,GNqBW,IAAC7C,EMpBrB4B,GNoBqB5B,EMpBQ6C,EAAEE,OAAOC,MNoBK,CACjDnD,KAAM1B,EACN6B,uBMzBE,UAME,wBAAQgD,MAAM,QAAd,mBACA,wBAAQA,MAAM,OAAd,wBACA,wBAAQA,MAAM,OAAd,6BACA,wBAAQA,MAAM,OAAd,6BCZA4D,I,MAAc,WAClB,IAAMhF,EAAWC,cACjB,OACE,sBAAKU,UAAU,wBAAf,UACE,sBAAMA,UAAU,uCAChB,uBACE1C,KAAK,OACL0C,UAAU,eACViB,YAAY,iBACZC,SAAU,SAACZ,GPsBS,IAAC5C,EOrBnB2B,GPqBmB3B,EOrBU4C,EAAEE,OAAOC,MPqBG,CACjDnD,KAAMzB,EACN6B,8BQ/BI4G,I,MAAO,WACX,IAAM3H,EAAiB4C,aAAY,SAACxC,GAAD,OAAWA,EAAMJ,kBAC9CV,EAAOsD,aAAY,SAACxC,GAAD,OAAWA,EAAMd,QACpCoD,EAAWC,cAYXiF,EAVc5H,EAAe6H,QAAO,SAACC,EAAKxC,GAC9C,GAAmB,IAAfA,EAAKyB,MACPe,GAAG,UAAOxC,EAAK/C,GAAZ,UAEH,IAAK,IAAIwF,EAAI,EAAGA,EAAIzC,EAAKyB,MAAOgB,IAC9BD,GAAG,UAAOxC,EAAK/C,GAAZ,KAGP,OAAOuF,IACN,IAC6BE,MAAM,GAAI,GAE1C,OAAK1I,EAAK4C,MAIoB,IAA1BlC,EAAegE,OAEf,sBAAKX,UAAU,qBAAf,UACE,mBAAGA,UAAU,yBACb,mBAAGA,UAAU,aAAb,8BAKJ,sBAAKA,UAAU,YAAf,UACE,qBAAKA,UAAU,gDAAf,SACE,wBACEA,UAAU,gCACV1C,KAAK,SACLsH,iBAAe,QACfC,iBAAe,kBACfzD,QAAS,kBAAM/B,GboBLR,EapByB5C,EAAK4C,MboBvBiG,EapB8BP,EbqBvD,uCAAO,WAAOlF,GAAP,eAAAjB,EAAA,+EAEgCH,EAAOkB,aACxCN,EACAiG,GAJC,OAEGC,EAFH,OAMH1F,EAAS,CACP/B,KAAMxB,EACNiJ,yBARC,gDAWHjE,QAAQtE,MAAM,KAAIuE,SAClB1B,EAAS,CACP/B,KAAMjC,EACNmC,IAAG,OAdF,yDAAP,wDADiB,IAACqB,EAAOiG,GazBnB,wBAUF,qBACE9E,UAAU,aACVd,GAAG,iBACH8F,mBAAiB,SACjBC,mBAAiB,QACjBC,kBAAgB,sBAChBC,cAAY,OANd,SAQE,qBAAKnF,UAAU,sEAAf,SACE,sBAAKA,UAAU,gBAAf,UACE,qBAAKA,UAAU,eAAf,SACE,oBAAIA,UAAU,cAAcd,GAAG,sBAA/B,iDAIF,qBAAKc,UAAU,aAAf,SACE,cAAC,GAAD,CAAWrD,eAAgBA,MAE7B,qBAAKqD,UAAU,eAAf,SACE,wBACE1C,KAAK,SACL0C,UAAU,oBACVoF,kBAAgB,QAChBhE,QAAS,kBAAM/B,ER/BN,CACvB/B,KAAMvB,KQ0BM,4BAYR,cAAC,GAAD,CAAWY,eAAgBA,OAvDtB,cAAC,IAAD,CAAUoD,GAAG,aA4DlBsF,GAAY,SAAC,GAAwB,IAAtB1I,EAAqB,EAArBA,eACnB,OACE,qCACE,wBAAOqD,UAAU,sBAAjB,UACE,gCACE,+BACE,oBAAIsF,MAAM,MAAV,kBACA,oBAAIA,MAAM,MAAV,mBACA,oBAAIA,MAAM,MAAV,mBACA,oBAAIA,MAAM,MAAV,wBAGJ,gCACG3I,EAAesG,KAAI,SAAChB,GAAD,OAClB,+BACE,oBAAIqD,MAAM,MAAMtF,UAAU,aAA1B,SACGiC,EAAK1B,OAER,6BAAK0B,EAAKyB,QACV,6BAAKzB,EAAKI,QACV,6BAAKJ,EAAK8B,UANH9B,EAAK/C,YAWpB,sBAAKc,UAAU,cAAf,6BAEGrD,EACE6H,QAAO,SAACC,EAAKxC,GACZ,OAAQwC,IAAQxC,EAAK8B,QACpB,GACFE,QAAQ,GANb,gBC5ESsB,I,MA5BH,WACV,IAAMtJ,EAAOsD,aAAY,SAACxC,GAAD,OAAWA,EAAMd,QAE1C,OACE,sBAAK+D,UAAU,YAAf,UACG/D,EAAK4C,OAAS,cAAC,EAAD,IACf,eAAC,IAAD,WACE,cAAC,IAAD,CACE2G,KAAK,IACLC,OAAQ,kBAAOxJ,EAAK4C,OAAS,cAAC,IAAD,CAAUkB,GAAG,YAC1C2F,OAAK,IAEP,cAAC,IAAD,CAAOF,KAAK,SAASG,UAAWvG,IAChC,cAAC,IAAD,CAAOoG,KAAK,QAAQG,UAAWrB,KAC/B,cAAC,IAAD,CACEkB,KAAK,eACLC,OAAQ,YAAgB,IACdvG,EADa,EAAZ0G,MACYC,OAAb3G,GACR,OAAO,cAAC,EAAD,CAAUkE,OAAQlE,OAG7B,cAAC,IAAD,CAAOwG,OAAK,EAACF,KAAK,WAAWG,UAAWnD,IACxC,cAAC,IAAD,CAAUzC,GAAG,cCnBrB+F,IAASL,OACP,cAAC,IAAD,CAAU7H,MAAOA,EAAjB,SACE,cAAC,EAAD,UACE,cAAC,IAAD,UACE,cAAC,GAAD,UAINmI,SAASC,eAAe,W","file":"static/js/main.2dee09c5.chunk.js","sourcesContent":["const LOGIN = 'LOGIN';\nconst API_ERROR = 'API_ERROR';\nconst LOGIN_FROM_LOCAL_STORAGE = 'LOGIN_FROM_LOCAL_STORAGE';\nconst LOAD_ALL_BOOKS = 'LOAD_ALL_BOOKS';\nconst LOG_OUT = 'LOG_OUT';\nconst LOAD_BOOK_BY_ID = 'LOAD_BOOK_BY_ID';\nconst CLEAR_SELECTED_BOOK = 'CLEAR_SELECTED_BOOK';\nconst ADD_BOOK_TO_CART = 'ADD_BOOK_TO_CART';\nconst GET_FILTER_PRICE_VALUE = 'GET_FILTER_PRICE_VALUE';\nconst GET_FILTER_TITLE_VALUE = 'GET_FILTER_TITLE_VALUE';\nconst PLACE_ORDER = 'PLACE_ORDER';\nconst CLEAR_CART = 'CLEAR_CART';\n\nexport {\n  LOGIN,\n  LOGIN_FROM_LOCAL_STORAGE,\n  API_ERROR,\n  LOAD_ALL_BOOKS,\n  LOG_OUT,\n  LOAD_BOOK_BY_ID,\n  CLEAR_SELECTED_BOOK,\n  ADD_BOOK_TO_CART,\n  GET_FILTER_PRICE_VALUE,\n  GET_FILTER_TITLE_VALUE,\n  PLACE_ORDER,\n  CLEAR_CART,\n};\n","import {\n  LOGIN,\n  LOGIN_FROM_LOCAL_STORAGE,\n  API_ERROR,\n  LOAD_ALL_BOOKS,\n  LOG_OUT,\n  LOAD_BOOK_BY_ID,\n  CLEAR_SELECTED_BOOK,\n  ADD_BOOK_TO_CART,\n  GET_FILTER_PRICE_VALUE,\n  GET_FILTER_TITLE_VALUE,\n  PLACE_ORDER,\n  CLEAR_CART,\n} from './types';\n\nconst initState = {\n  user: JSON.parse(localStorage.getItem('userInfo')) || {},\n  username: null,\n  loading: true,\n  error: null,\n  books: [],\n  bookDetails: {},\n  booksInTheCart: JSON.parse(localStorage.getItem('cart')) || [],\n  filterPriceValue: 'Price',\n  filterTitleValue: '',\n};\n\nconst addBookToCart = (state, addedBook) => {\n  // const filteredBook = state.booksInTheCart.find(\n  //   (book) => book.id === addedBook.id\n  // );\n  // if (filteredBook) {\n  //   console.log(filteredBook);\n  // state.booksInTheCart.map((book) => {\n  //   if (book.id === addedBook.id)\n  //     return {\n  //       ...book,\n  //       count: book.count + addedBook.count,\n  //       total: (book.count + addedBook.count) * book.price,\n  //     };\n  // });\n  //}\n\n  const updatedCart = [...state.booksInTheCart, addedBook];\n  localStorage.setItem('cart', JSON.stringify(updatedCart));\n  return {\n    ...state,\n    booksInTheCart: updatedCart,\n  };\n};\n\nexport function reducer(state = initState, action) {\n  switch (action.type) {\n    case LOGIN:\n      return {\n        ...state,\n        loading: false,\n        user: action.userInfo,\n      };\n    case API_ERROR:\n      return {\n        ...state,\n        loading: false,\n        error: action.err,\n      };\n    case LOGIN_FROM_LOCAL_STORAGE:\n      return { ...state, user: action.userInfo };\n    case LOAD_ALL_BOOKS:\n      return { ...state, loading: false, books: action.books };\n    case LOG_OUT:\n      return { ...state, user: {} };\n    case LOAD_BOOK_BY_ID:\n      return { ...state, bookDetails: action.bookDetails, loading: false };\n    case CLEAR_SELECTED_BOOK:\n      return { ...state, bookDetails: {}, loading: true };\n    case ADD_BOOK_TO_CART:\n      return addBookToCart(state, action.addedBook);\n    case GET_FILTER_PRICE_VALUE:\n      return { ...state, filterPriceValue: action.priceFilterValue };\n    case GET_FILTER_TITLE_VALUE:\n      return { ...state, filterTitleValue: action.titleFilterValue };\n    case PLACE_ORDER:\n      return { ...state };\n    case CLEAR_CART:\n      localStorage.removeItem('cart');\n      return { ...state, booksInTheCart: [] };\n    default:\n      return state;\n  }\n}\n\nexport default reducer;\n","import { createStore, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport thunk from 'redux-thunk';\nimport reducer from './reducers';\n\nconst store = createStore(reducer, composeWithDevTools(applyMiddleware(thunk)));\n\nexport default store;\n","export default __webpack_public_path__ + \"static/media/login2.4c1cc414.png\";","import axios from 'axios';\nclass Glitch {\n  _apiBase = 'https://js-band-store-api.glitch.me';\n\n  login = async (username) => {\n    try {\n      const result = await axios.post(`${this._apiBase}/signin`, {\n        username: username,\n      });\n      if (result.status !== 200) {\n        throw new Error(`Unable to login. Status code ${result.status}`);\n      }\n      return result.data;\n    } catch (err) {\n      throw new Error(`Unable to login. Status code ${err.response.status}`);\n    }\n  };\n\n  getAllBooks = async (token) => {\n    try {\n      const result = await axios.get(`${this._apiBase}/books`, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      if (result.status !== 200) {\n        throw new Error(\n          `Unable to load all books. Status code ${result.status}`\n        );\n      }\n      return result.data;\n    } catch (err) {\n      throw new Error(\n        `Unable to load all book. Status code ${err.response.status}`\n      );\n    }\n  };\n\n  loadBook = async (token, id) => {\n    try {\n      const result = await axios.get(`${this._apiBase}/books/${id}`, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      if (result.status !== 200) {\n        throw new Error(\n          `Unable to load book details. Status code ${result.status}`\n        );\n      }\n      return result.data;\n    } catch (err) {\n      throw new Error(\n        `Unable to load book details. Status code ${err.response.status}`\n      );\n    }\n  };\n\n  postPurchase = async (token, books) => {\n    try {\n      const result = await axios.post(\n        `${this._apiBase}/purchase`,\n        {\n          books: books,\n        },\n        {\n          headers: { Authorization: `Bearer ${token}` },\n        }\n      );\n      if (result.status !== 200) {\n        throw new Error(\n          `Unable to place an order. Status code ${result.status}`\n        );\n      }\n      return result.data;\n    } catch (err) {\n      throw new Error(\n        `Unable to place an order. Status code ${err.response.status}`\n      );\n    }\n  };\n}\n\nconst glitch = new Glitch();\n\nexport default glitch;\n","import React, { useState, useEffect } from 'react';\nimport './login.css';\nimport logo from '../../assets/login2.png';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { login } from '../../store/middleware';\nimport { loginFromLocalStorage } from '../../store/actionCreators';\nimport { ErrorIndicator } from '../index';\nimport { Redirect } from 'react-router-dom';\n\nconst Login = () => {\n  const dispatch = useDispatch();\n  const error = useSelector((state) => state.error);\n  const user = useSelector((state) => state.user);\n  const [usernameValue, setUsernameValue] = useState('');\n  const [userNameError, setUserNameError] = useState(false);\n  const [inputClasses, setInputClasses] = useState('username-input');\n\n  const handleChangeUsername = (e) => {\n    let name = e.target.value;\n    setUsernameValue(name.trim());\n    if (3 < name.length && name.length < 17) {\n      setUserNameError(false);\n    } else {\n      setUserNameError(true);\n    }\n  };\n\n  const handleLogin = (e) => {\n    e.preventDefault();\n    if (userNameError || !usernameValue) {\n      setInputClasses('username-input incorrect-username');\n    } else {\n      setInputClasses('username-input');\n      dispatch(login(usernameValue));\n    }\n  };\n\n  if (user.token) {\n    return <Redirect to=\"/catalog\" />;\n  }\n\n  return (\n    <div className=\"login-container\">\n      <p className=\"login-title\" align=\"center\">\n        JS Band Store\n      </p>\n      <div>\n        <img className=\"login-image\" src={logo} alt=\"login\" />\n      </div>\n      {error ? (\n        <ErrorIndicator />\n      ) : (\n        <LoginForm\n          inputClasses={inputClasses}\n          usernameValue={usernameValue}\n          handleChangeUsername={handleChangeUsername}\n          handleLogin={handleLogin}\n        />\n      )}\n    </div>\n  );\n};\n\nconst LoginForm = ({\n  inputClasses,\n  usernameValue,\n  handleChangeUsername,\n  handleLogin,\n}) => {\n  return (\n    <form className=\"login-form\">\n      <input\n        className={inputClasses}\n        type=\"text\"\n        align=\"center\"\n        placeholder=\"Username\"\n        value={usernameValue}\n        onChange={handleChangeUsername}\n      />\n      <p className=\"help-text\">\n        &#9889; Your username must be 4-16 characters long.\n      </p>\n      <a className=\"submit\" align=\"center\" href=\"/\" onClick={handleLogin}>\n        Log in\n      </a>\n    </form>\n  );\n};\n\nexport { Login };\n","import {\n  LOGIN,\n  API_ERROR,\n  LOAD_ALL_BOOKS,\n  LOAD_BOOK_BY_ID,\n  PLACE_ORDER,\n} from './types';\nimport glitch from '../services';\n\nconst login = (username) => {\n  return async (dispatch) => {\n    try {\n      const userInfo = await glitch.login(username);\n      localStorage.setItem('userInfo', JSON.stringify(userInfo));\n      dispatch({\n        type: LOGIN,\n        userInfo,\n      });\n    } catch (err) {\n      console.error(err.message);\n      dispatch({\n        type: API_ERROR,\n        err,\n      });\n    }\n  };\n};\n\nconst loadBooks = (token) => {\n  return async (dispatch) => {\n    try {\n      const books = await glitch.getAllBooks(token);\n      dispatch({\n        type: LOAD_ALL_BOOKS,\n        books,\n      });\n    } catch (err) {\n      console.error(err.message);\n      dispatch({\n        type: API_ERROR,\n        err,\n      });\n    }\n  };\n};\n\nconst loadBookById = (token, id) => {\n  return async (dispatch) => {\n    try {\n      const bookDetails = await glitch.loadBook(token, id);\n      dispatch({\n        type: LOAD_BOOK_BY_ID,\n        bookDetails,\n      });\n    } catch (err) {\n      console.error(err.message);\n      dispatch({\n        type: API_ERROR,\n        err,\n      });\n    }\n  };\n};\n\nconst placeOrder = (token, booksFromCart) => {\n  return async (dispatch) => {\n    try {\n      const messageAfterPurchase = await glitch.postPurchase(\n        token,\n        booksFromCart\n      );\n      dispatch({\n        type: PLACE_ORDER,\n        messageAfterPurchase,\n      });\n    } catch (err) {\n      console.error(err.message);\n      dispatch({\n        type: API_ERROR,\n        err,\n      });\n    }\n  };\n};\n\nexport { login, loadBooks, loadBookById, placeOrder };\n","import React from 'react';\nimport './spinner.css';\n\nconst Spinner = () => {\n  return (\n    <div className=\"loadingio-spinner-spinner-x0uuoqp72gm\">\n      <div className=\"ldio-yz9ydzph78\">\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n      </div>\n    </div>\n  );\n};\n\nexport { Spinner };\n","import React from 'react';\nimport './error-indicator.css';\n\nconst ErrorIndicator = () => {\n  return (\n    <div className=\"error-indicator\">\n      An error has occurred. Try reloading the page.\n    </div>\n  );\n};\n\nexport { ErrorIndicator };\n","import React, { Component } from 'react';\nimport { ErrorIndicator } from '../index';\n\nclass ErrorBoundary extends Component {\n  state = {\n    hasError: false,\n  };\n\n  static getDerivedStateFromError(error) {\n    return { hasError: true };\n  }\n  render() {\n    if (this.state.hasError) {\n      return <ErrorIndicator />;\n    }\n    return this.props.children;\n  }\n}\n\nexport { ErrorBoundary };\n","import React from 'react';\nimport './header.css';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { logOut } from '../../store/actionCreators';\nimport { Link } from 'react-router-dom';\n\nconst Header = () => {\n  const dispatch = useDispatch();\n  const user = useSelector((state) => state.user);\n  const booksInTheCart = useSelector((state) => state.booksInTheCart);\n  if (!user.token) return null;\n  return (\n    <header>\n      <div className=\"sign-out\">\n        {user.username}\n        <i className=\"fas fa-sign-out-alt\" onClick={() => dispatch(logOut())} />\n      </div>\n      <div className=\"header d-flex justify-content-between\">\n        <h1 className=\"header-title\">JS Band Store</h1>\n        <Link\n          to=\"/cart\"\n          className=\"shopping-cart\"\n          style={{ textDecoration: 'none' }}\n        >\n          <i className=\"fas fa-shopping-cart\" />\n          {`Cart(${booksInTheCart.length})`}\n        </Link>\n      </div>\n    </header>\n  );\n};\n\nexport { Header };\n","import {\n  LOGIN_FROM_LOCAL_STORAGE,\n  LOG_OUT,\n  CLEAR_SELECTED_BOOK,\n  ADD_BOOK_TO_CART,\n  GET_FILTER_PRICE_VALUE,\n  GET_FILTER_TITLE_VALUE,\n  CLEAR_CART,\n} from './types';\n\nconst loginFromLocalStorage = (userInfo) => ({\n  type: LOGIN_FROM_LOCAL_STORAGE,\n  userInfo,\n});\n\nconst logOut = () => {\n  localStorage.removeItem('userInfo');\n  return {\n    type: LOG_OUT,\n  };\n};\n\nconst clearSelectedBook = () => ({\n  type: CLEAR_SELECTED_BOOK,\n});\n\nconst addBookToCart = (addedBook) => ({\n  type: ADD_BOOK_TO_CART,\n  addedBook,\n});\n\nconst getFilterPriceValue = (priceFilterValue) => ({\n  type: GET_FILTER_PRICE_VALUE,\n  priceFilterValue,\n});\n\nconst getFilterTitleValue = (titleFilterValue) => ({\n  type: GET_FILTER_TITLE_VALUE,\n  titleFilterValue,\n});\n\nconst clearCart = () => ({\n  type: CLEAR_CART,\n});\n\nexport {\n  loginFromLocalStorage,\n  logOut,\n  clearSelectedBook,\n  addBookToCart,\n  getFilterPriceValue,\n  getFilterTitleValue,\n  clearCart,\n};\n","import './book-list-item.css';\nimport React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { clearSelectedBook } from '../../store/actionCreators';\nimport { useDispatch } from 'react-redux';\n\nconst BookListItem = ({ book, history }) => {\n  const dispatch = useDispatch();\n  const { title, author, price, cover, id } = book;\n\n  return (\n    <div className=\"card\">\n      <img src={cover} className=\"card-text card-img\" alt={title} />\n      <div className=\"card-body\">\n        <h5 className=\"card-title\">{title}</h5>\n        <p className=\"card-text\">{author}</p>\n        <div className=\"d-flex footer-card-section\">\n          <p className=\"card-text\">{price} $</p>\n          <button\n            className=\"btn btn-info\"\n            onClick={() => {\n              history.push(`/catalog/${id}`);\n              dispatch(clearSelectedBook());\n            }}\n          >\n            View\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default withRouter(BookListItem);\n","import './book-list.css';\nimport React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { loadBooks } from '../../store/middleware';\nimport BookListItem from '../book-list-item';\nimport { ErrorIndicator, Spinner, PriceFilter, TitleSearch } from '../index';\nimport { Redirect } from 'react-router-dom';\nimport { filterBooksByPrice, searchBooksByTitle } from '../../utils';\n\nconst BookList = () => {\n  const dispatch = useDispatch();\n  const books = useSelector((state) => state.books);\n  const user = useSelector((state) => state.user);\n  const error = useSelector((state) => state.error);\n  const loading = useSelector((state) => state.loading);\n  const filterPriceValue = useSelector((state) => state.filterPriceValue);\n  const filterTitleValue = useSelector((state) => state.filterTitleValue);\n\n  useEffect(() => {\n    if (user.token) {\n      dispatch(loadBooks(user.token));\n    }\n  }, [dispatch, user.token]);\n\n  const allBooks = filterBooksByPrice(\n    searchBooksByTitle(books, filterTitleValue),\n    filterPriceValue\n  ).map((book) => <BookListItem book={book} key={book.id} />);\n\n  if (!user.token) {\n    return <Redirect to=\"/login\" />;\n  }\n\n  const hasData = !(loading || error);\n  const content = hasData ? allBooks : null;\n  return (\n    <div>\n      <div className=\"d-flex\">\n        <PriceFilter />\n        <TitleSearch />\n      </div>\n\n      <div className=\"book-list\">\n        {error && <ErrorIndicator />}\n        {loading && <Spinner />}\n        {content}\n      </div>\n    </div>\n  );\n};\n\nexport { BookList };\n","const filterBooksByPrice = (books, price) => {\n  if (price === 'Price') {\n    return books;\n  } else if (price === '< 25') {\n    return books.filter(({ price }) => price < 25);\n  } else if (price === '< 50') {\n    return books.filter(({ price }) => price > 25 && price < 50);\n  } else if (price === '> 50') {\n    return books.filter(({ price }) => price > 50);\n  }\n};\n\nconst searchBooksByTitle = (books, titleSearchValue) => {\n  if (titleSearchValue === '') {\n    return books;\n  } else {\n    return books.filter(({ title }) =>\n      title.toLowerCase().includes(titleSearchValue.toLowerCase())\n    );\n  }\n};\n\nexport { filterBooksByPrice, searchBooksByTitle };\n","import './book-info.css';\nimport React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport { ErrorIndicator, Spinner, BookCart } from '../index';\nimport { loadBookById } from '../../store/middleware';\n\nconst BookInfo = ({ itemId }) => {\n  const bookDetails = useSelector((state) => state.bookDetails);\n  const user = useSelector((state) => state.user);\n  const error = useSelector((state) => state.error);\n  const loading = useSelector((state) => state.loading);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (user.token) {\n      dispatch(loadBookById(user.token, itemId));\n    }\n  }, [dispatch, itemId, user]);\n\n  if (!user.token) {\n    return <Redirect to=\"/login\" />;\n  }\n\n  const hasData = !(loading || error);\n  const content =\n    hasData && !!bookDetails ? (\n      <>\n        <CardContent bookDetails={bookDetails} />\n        <BookCart bookDetails={bookDetails} />\n      </>\n    ) : null;\n  return (\n    <div className=\"card-details d-flex\">\n      {error && <ErrorIndicator />}\n      {loading && <Spinner />}\n      {content}\n    </div>\n  );\n};\n\nconst CardContent = ({ bookDetails }) => {\n  const { title, cover, description, author, tags } = bookDetails;\n  return (\n    <div className=\"d-flex info-container\">\n      <div className=\"image-container\">\n        <img className=\"image\" src={cover} alt={title} />\n        <p className=\"book-desc\">{description}</p>\n      </div>\n      <div>\n        <h5 className=\"card-title\">{title}</h5>\n        <p className=\"book-auth\">\n          <small>{author}</small>\n        </p>\n        <div className=\"tags\">\n          <i className=\"fas fa-tags\"></i>\n          {tags && tags.join(', ')}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport { BookInfo };\n","import './book-cart.css';\nimport React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addBookToCart } from '../../store/actionCreators';\n\nconst BookCart = ({ bookDetails }) => {\n  const dispatch = useDispatch();\n  const booksInTheCart = useSelector((state) => state.booksInTheCart);\n  const { price, count, id, title } = bookDetails;\n  const [countValue, setCountValue] = useState(0);\n  const [totalPrice, setTotalPrice] = useState(0);\n  const [addedBook, setAddedBook] = useState({\n    name: title,\n    id: id,\n    price: price,\n    count: null,\n    total: null,\n  });\n\n  const handleChangeCount = (e) => {\n    let value = e.target.value;\n    setCountValue(value);\n    setTotalPrice((value * price).toFixed(2));\n    setAddedBook({\n      ...addedBook,\n      count: value,\n      total: (value * price).toFixed(2),\n    });\n  };\n\n  const addToCart = () => {\n    if (countValue) {\n      dispatch(addBookToCart(addedBook));\n    }\n  };\n\n  return (\n    <div className=\"card book-cart\">\n      <div className=\"card-body\">\n        <div className=\"price d-flex\">\n          <p className=\"card-text\">Price, $</p>\n          <p>{price}</p>\n        </div>\n        <div className=\"d-flex count\">\n          <p className=\"card-text\">Count</p>\n          <input\n            className=\"count-input\"\n            type=\"number\"\n            value={countValue}\n            onChange={handleChangeCount}\n            min=\"1\"\n            max={count}\n          ></input>\n        </div>\n        <div className=\"d-flex total\">\n          <p className=\"card-text\">Total Price, $</p>\n          <p className=\"card-text\">{totalPrice}</p>\n        </div>\n        <button className=\"btn btn-info add-to-cart\" onClick={addToCart}>\n          Add to cart\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport { BookCart };\n","import React from 'react';\nimport './price-filter.css';\nimport { useDispatch } from 'react-redux';\nimport { getFilterPriceValue } from '../../store/actionCreators';\n\nconst PriceFilter = () => {\n  const dispatch = useDispatch();\n  return (\n    <select\n      className=\"custom-select price-filter\"\n      onChange={(e) => {\n        dispatch(getFilterPriceValue(e.target.value));\n      }}\n    >\n      <option value=\"Price\">Price</option>\n      <option value=\"< 25\">{`price < 25`}</option>\n      <option value=\"< 50\">{`25 < price < 50`}</option>\n      <option value=\"> 50\">{`price > 50`}</option>\n    </select>\n  );\n};\n\nexport { PriceFilter };\n","import React from 'react';\nimport './title-filter.css';\nimport { useDispatch } from 'react-redux';\nimport { getFilterTitleValue } from '../../store/actionCreators';\n\nconst TitleSearch = () => {\n  const dispatch = useDispatch();\n  return (\n    <div className=\"form-group has-search\">\n      <span className=\"fa fa-search form-control-feedback\"></span>\n      <input\n        type=\"text\"\n        className=\"form-control\"\n        placeholder=\"type to search\"\n        onChange={(e) => {\n          dispatch(getFilterTitleValue(e.target.value));\n        }}\n      />\n    </div>\n  );\n};\n\nexport { TitleSearch };\n","import React from 'react';\nimport './cart.css';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport { placeOrder } from '../../store/middleware';\nimport { clearCart } from '../../store/actionCreators';\n\nconst Cart = () => {\n  const booksInTheCart = useSelector((state) => state.booksInTheCart);\n  const user = useSelector((state) => state.user);\n  const dispatch = useDispatch();\n\n  const allBooksIds = booksInTheCart.reduce((acc, book) => {\n    if (book.count === 1) {\n      acc += `${book.id},`;\n    } else {\n      for (let i = 0; i < book.count; i++) {\n        acc += `${book.id},`;\n      }\n    }\n    return acc;\n  }, '');\n  const stringOfIds = allBooksIds.slice(0, -1);\n\n  if (!user.token) {\n    return <Redirect to=\"/login\" />;\n  }\n\n  if (booksInTheCart.length === 0) {\n    return (\n      <div className=\"shopping-cart-page\">\n        <i className=\"fas fa-shopping-cart\" />\n        <p className=\"empty-cart\">Cart empty...</p>\n      </div>\n    );\n  }\n  return (\n    <div className=\"full-cart\">\n      <div className=\"d-grid gap-2 d-md-flex justify-content-md-end\">\n        <button\n          className=\"btn btn-info me-md-2 purchase\"\n          type=\"button\"\n          data-bs-toggle=\"modal\"\n          data-bs-target=\"#staticBackdrop\"\n          onClick={() => dispatch(placeOrder(user.token, stringOfIds))}\n        >\n          Purchase\n        </button>\n      </div>\n      <div\n        className=\"modal fade\"\n        id=\"staticBackdrop\"\n        data-bs-backdrop=\"static\"\n        data-bs-keyboard=\"false\"\n        aria-labelledby=\"staticBackdropLabel\"\n        aria-hidden=\"true\"\n      >\n        <div className=\"modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h6 className=\"modal-title\" id=\"staticBackdropLabel\">\n                You successfully placed an order!\n              </h6>\n            </div>\n            <div className=\"modal-body\">\n              <CartTable booksInTheCart={booksInTheCart} />\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                type=\"button\"\n                className=\"btn btn-secondary\"\n                data-bs-dismiss=\"modal\"\n                onClick={() => dispatch(clearCart())}\n              >\n                Close\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <CartTable booksInTheCart={booksInTheCart} />\n    </div>\n  );\n};\n\nconst CartTable = ({ booksInTheCart }) => {\n  return (\n    <>\n      <table className=\"table table-striped\">\n        <thead>\n          <tr>\n            <th scope=\"col\">Name</th>\n            <th scope=\"col\">Count</th>\n            <th scope=\"col\">Price</th>\n            <th scope=\"col\">Total</th>\n          </tr>\n        </thead>\n        <tbody>\n          {booksInTheCart.map((book) => (\n            <tr key={book.id}>\n              <th scope=\"row\" className=\"book-title\">\n                {book.name}\n              </th>\n              <td>{book.count}</td>\n              <td>{book.price}</td>\n              <td>{book.total}</td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n      <div className=\"total-price\">\n        Total price:&nbsp;\n        {booksInTheCart\n          .reduce((acc, book) => {\n            return (acc += +book.total);\n          }, 0)\n          .toFixed(2)}\n        &nbsp; $\n      </div>\n    </>\n  );\n};\n\nexport { Cart, CartTable };\n","import React from 'react';\nimport './app.css';\nimport { Login, Header, BookList, BookInfo, Cart } from '../index';\nimport { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nconst App = () => {\n  const user = useSelector((state) => state.user);\n\n  return (\n    <div className=\"container\">\n      {user.token && <Header />}\n      <Switch>\n        <Route\n          path=\"/\"\n          render={() => !user.token && <Redirect to=\"/login\" />}\n          exact\n        />\n        <Route path=\"/login\" component={Login} />\n        <Route path=\"/cart\" component={Cart} />\n        <Route\n          path=\"/catalog/:id\"\n          render={({ match }) => {\n            const { id } = match.params;\n            return <BookInfo itemId={id} />;\n          }}\n        />\n        <Route exact path=\"/catalog\" component={BookList} />\n        <Redirect to=\"/\" />\n      </Switch>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from './store';\nimport { ErrorBoundary } from './component/index';\nimport { BrowserRouter, HashRouter } from 'react-router-dom';\n\nimport App from './component/app';\n\nReactDOM.render(\n  <Provider store={store}>\n    <ErrorBoundary>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </ErrorBoundary>\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}